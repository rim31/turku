{"ast":null,"code":"import _slicedToArray from\"/Users/rims/Documents/musicuizz/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{readRemoteFile}from'react-papaparse';export default function TableCsvPlaceAlcohol(){// const [data, setData] = useState<any>([]);\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),header=_useState2[0],setHeader=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),rows=_useState4[0],setRows=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),query=_useState6[0],setQuery=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),order=_useState8[0],setOrder=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];// {/**\n//   filter a key in the array, return true if find it in any row of array then return tue object array filtered\n// */}\nfunction filterData(){return!query?rows:rows.filter(function(obj){var flag=false;Object.values(obj).forEach(function(val){if(String(val?val.toLowerCase():val).indexOf(query.toLowerCase())>-1){flag=true;return null;}});if(flag)return obj;return null;});}// {/**\n//   function : sort a column giving the key name\n// */}\nvar sorting=function sorting(key){setOrder(order*-1);setRows(rows.sort(function(a,b){return(order===1?a[key]>b[key]:a[key]<b[key])?1:-1;}));};useEffect(function(){setLoading(true);readRemoteFile('/images/alkoholilupa_toimipaikkatiedot_34.csv',{complete:function complete(results){// console.log('Results:', results)\n// setData(results)\nif(results){setHeader(results.data.shift());setRows(results.data);}}});setLoading(false);// readRemoteFile('http://example.com/big.csv', {\n//   step: (row) => {\n//     console.log('Row:', row.data)\n//   },\n//   complete: () => {\n//     console.log('All done!')\n//   }\n// })\n},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card \"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},/*#__PURE__*/React.createElement(\"h1\",{className:\" card-title text-center pt-1\"},\"Approval alcohol consumption places\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend pb-0 pl-2 pr-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control border search\",placeholder:\"Search a place...\",value:query,onChange:function onChange(e){return setQuery(e.target.value);},\"aria-label\":\"search place\",\"aria-describedby\":\"alcohol\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},loading?/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 text-center\"},/*#__PURE__*/React.createElement(\"img\",{height:\"50\",width:\"50\",src:\"/images/loading.gif\",alt:\"LOADING\"}),/*#__PURE__*/React.createElement(\"h2\",null,\"LOADING...\")):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table tablesorter \",id:\"\"},/*#__PURE__*/React.createElement(\"thead\",{className:\" text-primary\"},/*#__PURE__*/React.createElement(\"tr\",null,header&&header.map(function(name,ii){return/*#__PURE__*/React.createElement(\"th\",{key:ii,onClick:function onClick(){return sorting(name);}},name,\"\\u2195\");}))),/*#__PURE__*/React.createElement(\"tbody\",null,filterData()&&filterData().map(function(numList,i){return/*#__PURE__*/React.createElement(\"tr\",{key:i},numList.map(function(num,j){return/*#__PURE__*/React.createElement(\"td\",{key:j},num);}));})))))));}","map":{"version":3,"sources":["/Users/rims/Documents/musicuizz/frontend/src/components/template/TableCsvPlaceAlcohol.tsx"],"names":["React","useState","useEffect","readRemoteFile","TableCsvPlaceAlcohol","header","setHeader","rows","setRows","query","setQuery","order","setOrder","loading","setLoading","filterData","filter","obj","flag","Object","values","forEach","val","String","toLowerCase","indexOf","sorting","key","sort","a","b","complete","results","data","shift","e","target","value","map","name","ii","numList","i","num","j"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { readRemoteFile } from 'react-papaparse'\n\nexport default function TableCsvPlaceAlcohol() {\n  // const [data, setData] = useState<any>([]);\n  const [header, setHeader] = useState<any>([]);\n  const [rows, setRows] = useState<any>([]);\n  const [query, setQuery] = useState<string>(\"\")\n  const [order, setOrder] = useState<number>(1)\n  const [loading, setLoading] = useState<boolean>(true)\n\n\n  // {/**\n  //   filter a key in the array, return true if find it in any row of array then return tue object array filtered\n  // */}\n  function filterData() {\n    return !query\n      ? rows :\n      rows.filter((obj: any) => {\n        let flag: Boolean = false;\n        Object.values(obj).forEach((val: any) => {\n          if (String(val ? val.toLowerCase() : val).indexOf(query.toLowerCase()) > -1) {\n            flag = true;\n            return null;\n          }\n        });\n        if (flag) return obj;\n        return null;\n      });\n  }\n\n  // {/**\n  //   function : sort a column giving the key name\n  // */}\n  const sorting = (key: string) => {\n    setOrder(order * -1);\n    setRows(rows.sort((a: any, b: any) =>\n      (order === 1 ? a[key] > b[key] : a[key] < b[key]) ? 1 : -1\n    ));\n  }\n\n\n  useEffect(() => {\n    setLoading(true);\n\n    readRemoteFile('/images/alkoholilupa_toimipaikkatiedot_34.csv', {\n      complete: (results: any) => {\n        // console.log('Results:', results)\n        // setData(results)\n        if (results) {\n          setHeader(results.data.shift());\n          setRows(results.data);\n        }\n      }\n    });\n    setLoading(false);\n\n    // readRemoteFile('http://example.com/big.csv', {\n    //   step: (row) => {\n    //     console.log('Row:', row.data)\n    //   },\n    //   complete: () => {\n    //     console.log('All done!')\n    //   }\n    // })\n  }, [])\n\n  return (\n    <div className=\"content\">\n      <div className=\"card \">\n        <div className=\"card-header\">\n          <h1 className=\" card-title text-center pt-1\">Approval alcohol consumption places</h1>\n        </div>\n        <div className=\"input-group-prepend pb-0 pl-2 pr-2\">\n          <input type=\"text\" className=\"form-control border search\" placeholder=\"Search a place...\" value={query} onChange={(e) => setQuery(e.target.value)} aria-label=\"search place\" aria-describedby=\"alcohol\" />\n        </div>\n        <div className=\"card-body\">\n          {loading ? (<div className=\"col-12 text-center\"><img height='50' width='50' src='/images/loading.gif' alt='LOADING' /><h2>LOADING...</h2></div>) : \"\"}\n          <div className=\"table-responsive\">\n            <table className=\"table tablesorter \" id=\"\">\n              <thead className=\" text-primary\">\n                <tr>\n                  {header && (header.map((name: string, ii: number) => (\n                    <th key={ii} onClick={() => sorting(name)} >{name}&#8597;</th>)\n                  ))}\n                </tr>\n              </thead>\n              <tbody>\n                {filterData() &&\n                  (filterData().map((numList: any, i: number) => (\n                    <tr key={i} >\n                      {\n                        numList.map((num: any, j: number) =>\n                          <td key={j}>{num}</td>)\n                      }\n                    </tr>)\n                  ))\n                }\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}