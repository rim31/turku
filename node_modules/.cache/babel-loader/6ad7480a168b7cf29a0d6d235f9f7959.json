{"ast":null,"code":"var _jsxFileName = \"/Users/rims/Documents/musicuizz/frontend/src/components/screens/Covid.tsx\";\nimport React from 'react'; // import FetchCovidFinland from '../api/FetchCovidFinland';\n\nimport { StoreContainer } from '../Store';\nimport BarCharts from '../template/BarCharts';\nconst headers = new Headers({\n  \"Accept\": \"application/json\",\n  \"Content-Type\": \"application/json\",\n  \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:78.0) Gecko/20100101 Firefox/78.0\"\n});\nexport default function Covid() {\n  const unstated = StoreContainer.useContainer(); // const [labels, setLabels] = useState<any>([])\n  // const [dataDiff, setDataDiff] = useState<any>([])\n  // function countryDataGraph(data: any, country: string, caseType: string, dateTo: string) {\n  //   let resultCases: any[] = []\n  //   let resultDates: any[] = []\n  //   if (data.length > 0) {\n  //     data.forEach((item: any) => {\n  //       if ((moment(item.Date).isAfter(dateTo))) {\n  //         resultCases.push(item.Cases);\n  //         resultDates.push(moment(item.Date).format('YYYY/MM/DD'));\n  //       }\n  //     })\n  //     let resultCasesDiff: any[] = _.map(resultCases, function (e: any, i: any) {\n  //       return (resultCases[i + 1] - e) < 0 ? 0 : (resultCases[i + 1] - e)\n  //     });\n  //     resultCasesDiff.pop();\n  //     resultCases.pop();\n  //     resultDates.pop();\n  //     setDataDiff(resultCasesDiff);\n  //     setLabels(resultDates);\n  //   }\n  // }\n  // const getData = async () => {\n  //   try {\n  //     // const response = await fetch(\"https://sampo.thl.fi/pivot/prod/en/epirapo/covid19case/fact_epirapo_covid19case.json\", {\n  //     const country: string = 'finland';\n  //     const caseType: string = 'confirmed';\n  //     const dateTo: string = `${moment().subtract(2, 'months').format()}`\n  //     await fetch(`https://api.covid19api.com/country/${country}/status/${caseType}/live?from=${dateTo}&to=${moment().format('YYYY-MM-DDT00:00:00')}`, {\n  //       method: 'GET',\n  //       redirect: 'follow',\n  //       headers: headers\n  //     })\n  //       .then((response: any) => response.json()).then((res) => {\n  //         countryDataGraph(res, country, caseType, dateTo);// cleaning data for ChartJS\n  //       }).catch(err => alert(err));\n  //   } catch (err) {\n  //     console.error(err.message);\n  //   }\n  // }\n  // useEffect(() => {\n  //   getData();\n  // }, [])\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BarCharts, {\n    data: unstated.dataDiff,\n    labels: unstated.labels,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/rims/Documents/musicuizz/frontend/src/components/screens/Covid.tsx"],"names":["React","StoreContainer","BarCharts","headers","Headers","Covid","unstated","useContainer","dataDiff","labels"],"mappings":";AAAA,OAAOA,KAAP,MAA2C,OAA3C,C,CACA;;AACA,SAASC,cAAT,QAA+B,UAA/B;AAGA,OAAOC,SAAP,MAAsB,uBAAtB;AAEA,MAAMC,OAAO,GAAG,IAAIC,OAAJ,CAAY;AAC1B,YAAU,kBADgB;AAE1B,kBAAgB,kBAFU;AAG1B,gBAAc;AAHY,CAAZ,CAAhB;AAMA,eAAe,SAASC,KAAT,GAAiB;AAC9B,QAAMC,QAAQ,GAAGL,cAAc,CAACM,YAAf,EAAjB,CAD8B,CAE9B;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA,sBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAaE,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAED,QAAQ,CAACE,QAA1B;AAAoC,IAAA,MAAM,EAAEF,QAAQ,CAACG,MAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,CADF;AAiBD","sourcesContent":["import React, { useState, useEffect } from 'react'\n// import FetchCovidFinland from '../api/FetchCovidFinland';\nimport { StoreContainer } from '../Store';\nimport moment from 'moment';\nimport _ from 'lodash';\nimport BarCharts from '../template/BarCharts';\n\nconst headers = new Headers({\n  \"Accept\": \"application/json\",\n  \"Content-Type\": \"application/json\",\n  \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:78.0) Gecko/20100101 Firefox/78.0\"\n});\n\nexport default function Covid() {\n  const unstated = StoreContainer.useContainer();\n  // const [labels, setLabels] = useState<any>([])\n  // const [dataDiff, setDataDiff] = useState<any>([])\n\n\n  // function countryDataGraph(data: any, country: string, caseType: string, dateTo: string) {\n  //   let resultCases: any[] = []\n  //   let resultDates: any[] = []\n  //   if (data.length > 0) {\n  //     data.forEach((item: any) => {\n  //       if ((moment(item.Date).isAfter(dateTo))) {\n  //         resultCases.push(item.Cases);\n  //         resultDates.push(moment(item.Date).format('YYYY/MM/DD'));\n  //       }\n  //     })\n  //     let resultCasesDiff: any[] = _.map(resultCases, function (e: any, i: any) {\n  //       return (resultCases[i + 1] - e) < 0 ? 0 : (resultCases[i + 1] - e)\n  //     });\n  //     resultCasesDiff.pop();\n  //     resultCases.pop();\n  //     resultDates.pop();\n  //     setDataDiff(resultCasesDiff);\n  //     setLabels(resultDates);\n  //   }\n  // }\n\n  // const getData = async () => {\n  //   try {\n  //     // const response = await fetch(\"https://sampo.thl.fi/pivot/prod/en/epirapo/covid19case/fact_epirapo_covid19case.json\", {\n  //     const country: string = 'finland';\n  //     const caseType: string = 'confirmed';\n  //     const dateTo: string = `${moment().subtract(2, 'months').format()}`\n  //     await fetch(`https://api.covid19api.com/country/${country}/status/${caseType}/live?from=${dateTo}&to=${moment().format('YYYY-MM-DDT00:00:00')}`, {\n  //       method: 'GET',\n  //       redirect: 'follow',\n  //       headers: headers\n  //     })\n  //       .then((response: any) => response.json()).then((res) => {\n  //         countryDataGraph(res, country, caseType, dateTo);// cleaning data for ChartJS\n  //       }).catch(err => alert(err));\n  //   } catch (err) {\n  //     console.error(err.message);\n  //   }\n  // }\n\n  // useEffect(() => {\n  //   getData();\n  // }, [])\n\n  return (\n    <div className=\"nav flex-column\">\n      {/* {\n        dataDiff && (\n          <div className=\"city\">\n            <div className=\"city-temp\">\n              Today {moment().format('YYYY-MM-DD')}\n            </div>\n            <div className=\"info\">\n              <p style={{ color: \"black\" }}>Coucou</p>\n            </div>\n          </div>\n        )\n      } */}\n      <BarCharts data={unstated.dataDiff} labels={unstated.labels} />\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}