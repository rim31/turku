{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rims/Documents/musicuizz/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/rims/Documents/musicuizz/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/rims/Documents/musicuizz/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import FetchData from'../api/FetchData';// ISO 3166-1 alpha-2\n// ⚠️ No support for IE 11 - country Flag with isoCode\nfunction countryToFlag(isoCode){return typeof String.fromCodePoint!=='undefined'?isoCode.toUpperCase().replace(/./g,function(char){return String.fromCodePoint(char.charCodeAt(0)+127397);}):isoCode;}export default function Forecast(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),weather=_useState4[0],setWeather=_useState4[1];var search=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(e.key===\"Enter\")){_context.next=7;break;}_context.next=3;return FetchData(query.toLowerCase());case 3:res=_context.sent;console.log(res.data);setWeather(res.data);setQuery('');case 7:case\"end\":return _context.stop();}}},_callee);}));return function search(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"main-container\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{className:\"text-center\"},\"Search\",/*#__PURE__*/React.createElement(\"input\",{id:\"search\",name:\"search\",type:\"text\",className:\"search\",placeholder:\"Search...\",value:query,onChange:function onChange(e){return setQuery(e.target.value);},onKeyPress:search}))),weather.main&&/*#__PURE__*/React.createElement(\"div\",{className:\"city\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"city-name\"},/*#__PURE__*/React.createElement(\"span\",null,weather.name),/*#__PURE__*/React.createElement(\"sup\",null,weather.sys.country,\" \",countryToFlag(weather.sys.country))),/*#__PURE__*/React.createElement(\"div\",{className:\"city-temp\"},Math.round(weather.main.temp),/*#__PURE__*/React.createElement(\"sup\",null,\"\\xB0C\")),/*#__PURE__*/React.createElement(\"div\",{className:\"info\"},/*#__PURE__*/React.createElement(\"img\",{className:\"city-icon\",src:\"https://openweathermap.org/img/wn/\".concat(weather.weather[0].icon,\"@2x.png\"),alt:weather.weather[0].description}),/*#__PURE__*/React.createElement(\"p\",{style:{color:\"black\"}},weather.weather[0].description))));}","map":{"version":3,"sources":["/Users/rims/Documents/musicuizz/frontend/src/components/screens/Forecast.tsx"],"names":["React","useState","FetchData","countryToFlag","isoCode","String","fromCodePoint","toUpperCase","replace","char","charCodeAt","Forecast","query","setQuery","weather","setWeather","search","e","key","toLowerCase","res","console","log","data","target","value","main","name","sys","country","Math","round","temp","icon","description","color"],"mappings":"0dAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,SAAP,KAAsB,kBAAtB,CAEA;AACA;AACA,QAASC,CAAAA,aAAT,CAAuBC,OAAvB,CAAqC,CACnC,MAAO,OAAOC,CAAAA,MAAM,CAACC,aAAd,GAAgC,WAAhC,CACHF,OAAO,CACNG,WADD,GAECC,OAFD,CAES,IAFT,CAEe,SAACC,IAAD,QAAeJ,CAAAA,MAAM,CAACC,aAAP,CAAqBG,IAAI,CAACC,UAAL,CAAgB,CAAhB,EAAqB,MAA1C,CAAf,EAFf,CADG,CAIHN,OAJJ,CAKD,CAED,cAAe,SAASO,CAAAA,QAAT,EAAoB,eACPV,QAAQ,CAAS,EAAT,CADD,wCAC1BW,KAD0B,eACnBC,QADmB,8BAEHZ,QAAQ,CAAM,EAAN,CAFL,yCAE1Ba,OAF0B,eAEjBC,UAFiB,eAIjC,GAAMC,CAAAA,MAAM,0FAAG,iBAAOC,CAAP,+HACTA,CAAC,CAACC,GAAF,GAAU,OADD,gDAEYhB,CAAAA,SAAS,CAACU,KAAK,CAACO,WAAN,EAAD,CAFrB,QAELC,GAFK,eAGXC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACAR,UAAU,CAACK,GAAG,CAACG,IAAL,CAAV,CACAV,QAAQ,CAAC,EAAD,CAAR,CALW,sDAAH,kBAANG,CAAAA,MAAM,4CAAZ,CASA,mBACE,2BAAK,SAAS,CAAC,gBAAf,eACE,4CACE,6BAAO,SAAS,CAAC,aAAjB,wBACA,6BAAO,EAAE,CAAC,QAAV,CAAmB,IAAI,CAAC,QAAxB,CAAiC,IAAI,CAAC,MAAtC,CAA6C,SAAS,CAAC,QAAvD,CAAgE,WAAW,CAAC,WAA5E,CAAwF,KAAK,CAAEJ,KAA/F,CAAsG,QAAQ,CAAE,kBAACK,CAAD,QAAOJ,CAAAA,QAAQ,CAACI,CAAC,CAACO,MAAF,CAASC,KAAV,CAAf,EAAhH,CAAiJ,UAAU,CAAET,MAA7J,EADA,CADF,CADF,CAOIF,OAAO,CAACY,IAAR,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,0BAAI,SAAS,CAAC,WAAd,eACE,gCAAOZ,OAAO,CAACa,IAAf,CADF,cAEE,+BAAMb,OAAO,CAACc,GAAR,CAAYC,OAAlB,KAA4B1B,aAAa,CAACW,OAAO,CAACc,GAAR,CAAYC,OAAb,CAAzC,CAFF,CADF,cAKE,2BAAK,SAAS,CAAC,WAAf,EACGC,IAAI,CAACC,KAAL,CAAWjB,OAAO,CAACY,IAAR,CAAaM,IAAxB,CADH,cACiC,uCADjC,CALF,cAQE,2BAAK,SAAS,CAAC,MAAf,eACE,2BAAK,SAAS,CAAC,WAAf,CAA2B,GAAG,6CAAuClB,OAAO,CAACA,OAAR,CAAgB,CAAhB,EAAmBmB,IAA1D,WAA9B,CAAuG,GAAG,CAAEnB,OAAO,CAACA,OAAR,CAAgB,CAAhB,EAAmBoB,WAA/H,EADF,cAEE,yBAAG,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAT,CAAV,EAA+BrB,OAAO,CAACA,OAAR,CAAgB,CAAhB,EAAmBoB,WAAlD,CAFF,CARF,CARN,CADF,CA0BD","sourcesContent":["import React, { useState } from 'react'\nimport FetchData from '../api/FetchData';\n\n// ISO 3166-1 alpha-2\n// ⚠️ No support for IE 11 - country Flag with isoCode\nfunction countryToFlag(isoCode: any) {\n  return typeof String.fromCodePoint !== 'undefined'\n    ? isoCode\n      .toUpperCase()\n      .replace(/./g, (char: any) => String.fromCodePoint(char.charCodeAt(0) + 127397))\n    : isoCode;\n}\n\nexport default function Forecast() {\n  const [query, setQuery] = useState<string>(\"\")\n  const [weather, setWeather] = useState<any>(\"\")\n\n  const search = async (e: any) => {\n    if (e.key === \"Enter\") {\n      const res: any = await FetchData(query.toLowerCase());\n      console.log(res.data);\n      setWeather(res.data);\n      setQuery('')\n    }\n  }\n\n  return (\n    <div className=\"main-container\">\n      <div>\n        <label className=\"text-center\" >Search\n        <input id=\"search\" name=\"search\" type=\"text\" className=\"search\" placeholder=\"Search...\" value={query} onChange={(e) => setQuery(e.target.value)} onKeyPress={search} />\n        </label>\n      </div>\n      {\n        weather.main && (\n          <div className=\"city\">\n            <h2 className=\"city-name\">\n              <span>{weather.name}</span>\n              <sup>{weather.sys.country} {countryToFlag(weather.sys.country)}</sup>\n            </h2>\n            <div className=\"city-temp\">\n              {Math.round(weather.main.temp)}<sup>°C</sup>\n            </div>\n            <div className=\"info\">\n              <img className=\"city-icon\" src={`https://openweathermap.org/img/wn/${weather.weather[0].icon}@2x.png`} alt={weather.weather[0].description} />\n              <p style={{ color: \"black\" }}>{weather.weather[0].description}</p>\n            </div>\n          </div>\n        )\n      }\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}