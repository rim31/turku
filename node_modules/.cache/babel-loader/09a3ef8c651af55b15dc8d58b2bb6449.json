{"ast":null,"code":"import _slicedToArray from\"/Users/rims/Documents/musicuizz/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{readRemoteFile}from'react-papaparse';export default function TableCsvPlaceAlcohol(){// const [data, setData] = useState<any>([]);\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),header=_useState2[0],setHeader=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),rows=_useState4[0],setRows=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),query=_useState6[0],setQuery=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),order=_useState8[0],setOrder=_useState8[1];var _useState9=useState(\"Places\"),_useState10=_slicedToArray(_useState9,2),title=_useState10[0],setTitle=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];// {/**\n//   filter a key in the array, return true if find it in any row of array then return tue object array filtered\n// */}\nfunction filterData(){return!query?rows:rows.filter(function(obj){var flag=false;Object.values(obj).forEach(function(val){if(String(val?val.toLowerCase():val).indexOf(query.toLowerCase())>-1){flag=true;return null;}});if(flag)return obj;return null;});}// {/**\n//   function : sort a column giving the key name\n// */}\nvar sorting=function sorting(key){setOrder(order*-1);setRows(rows.sort(function(a,b){return(order===1?a[key]>b[key]:a[key]<b[key])?1:-1;}));};var getNamesData=function getNamesData(name){// setLoading(true);\nreadRemoteFile(name,{complete:function complete(results){if(results){setHeader(results.data.shift());setRows(results.data);}}});//  readRemoteFile('http://example.com/big.csv', {\n//    step: (row) => {\n//      console.log('Row:', row.data)\n//    },\n//    complete: () => {\n//      console.log('All done!')\n//    }\n//  })\nsetLoading(false);};useEffect(function(){getNamesData('/images/alkoholilupa_toimipaikkatiedot_34.csv');setTitle(\"Places\");},[]);useEffect(function(){if(rows&&rows.length>0)setLoading(false);},[rows]);return/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card \"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},/*#__PURE__*/React.createElement(\"h1\",{className:\" card-title text-center pt-1\"},\"Approval alcohol consumption : \",title)),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend pb-0 pl-2 pr-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control border search\",placeholder:\"Search a place...\",value:query,onChange:function onChange(e){return setQuery(e.target.value);},\"aria-label\":\"search place\",\"aria-describedby\":\"alcohol\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},loading&&/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 text-center full-page-loader\"},/*#__PURE__*/React.createElement(\"img\",{height:\"50\",width:\"50\",src:\"/images/logo.png\",alt:\"LOADING\"}),/*#__PURE__*/React.createElement(\"h2\",null,\"LOADING...\")),/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table tablesorter \",id:\"\"},/*#__PURE__*/React.createElement(\"thead\",{className:\" text-primary\"},/*#__PURE__*/React.createElement(\"tr\",null,header&&header.map(function(name,ii){return/*#__PURE__*/React.createElement(\"th\",{key:ii,onClick:function onClick(){return sorting(name);}},name,\"\\u2195\");}))),/*#__PURE__*/React.createElement(\"tbody\",null,filterData()&&filterData().map(function(numList,i){return/*#__PURE__*/React.createElement(\"tr\",{key:i},numList.map(function(num,j){return/*#__PURE__*/React.createElement(\"td\",{key:j},num);}));})))))));}","map":{"version":3,"sources":["/Users/rims/Documents/musicuizz/frontend/src/components/template/TableCsvPlaceAlcohol.tsx"],"names":["React","useState","useEffect","readRemoteFile","TableCsvPlaceAlcohol","header","setHeader","rows","setRows","query","setQuery","order","setOrder","title","setTitle","loading","setLoading","filterData","filter","obj","flag","Object","values","forEach","val","String","toLowerCase","indexOf","sorting","key","sort","a","b","getNamesData","name","complete","results","data","shift","length","e","target","value","map","ii","numList","i","num","j"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { readRemoteFile } from 'react-papaparse'\n\nexport default function TableCsvPlaceAlcohol() {\n  // const [data, setData] = useState<any>([]);\n  const [header, setHeader] = useState<any>([]);\n  const [rows, setRows] = useState<any>([]);\n  const [query, setQuery] = useState<string>(\"\")\n  const [order, setOrder] = useState<number>(1)\n  const [title, setTitle] = useState<string>(\"Places\");\n  const [loading, setLoading] = useState<boolean>(true)\n\n\n  // {/**\n  //   filter a key in the array, return true if find it in any row of array then return tue object array filtered\n  // */}\n  function filterData() {\n    return !query\n      ? rows :\n      rows.filter((obj: any) => {\n        let flag: Boolean = false;\n        Object.values(obj).forEach((val: any) => {\n          if (String(val ? val.toLowerCase() : val).indexOf(query.toLowerCase()) > -1) {\n            flag = true;\n            return null;\n          }\n        });\n        if (flag) return obj;\n        return null;\n      });\n  }\n\n  // {/**\n  //   function : sort a column giving the key name\n  // */}\n  const sorting = (key: string) => {\n    setOrder(order * -1);\n    setRows(rows.sort((a: any, b: any) =>\n      (order === 1 ? a[key] > b[key] : a[key] < b[key]) ? 1 : -1\n    ));\n  }\n\n  const getNamesData = (name: any) => {\n    // setLoading(true);\n    readRemoteFile(name, {\n      complete: (results: any) => {\n        if (results) {\n          setHeader(results.data.shift());\n          setRows(results.data);\n        }\n      }\n    })\n    //  readRemoteFile('http://example.com/big.csv', {\n    //    step: (row) => {\n    //      console.log('Row:', row.data)\n    //    },\n    //    complete: () => {\n    //      console.log('All done!')\n    //    }\n    //  })\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    getNamesData('/images/alkoholilupa_toimipaikkatiedot_34.csv');\n    setTitle(\"Places\")\n  }, [])\n\n  useEffect(() => {\n    if (rows && rows.length > 0)\n      setLoading(false);\n  }, [rows])\n\n  return (\n    <div className=\"content\">\n      <div className=\"card \">\n        <div className=\"card-header\">\n          <h1 className=\" card-title text-center pt-1\">Approval alcohol consumption : {title}</h1>\n        </div>\n        {/* <div className=\"d-flex mt-2 mb-2 justify-content-center\">\n          <span className=\"badge badge-pill badge-secondary mr-1 ml-1\" onClick={() => { getNamesData('/images/alkoholilupa_toimipaikkatiedot_34.csv'); setLoading(true); setTitle(\"Places\") }}>name</span>\n          <span className=\"badge badge-pill badge-secondary mr-1\" onClick={() => { getNamesData('/images/alkoholilupa_toimipaikkatiedot_ABC.csv'); setLoading(true); setTitle(\"Store\") }}>year</span>\n        </div> */}\n        <div className=\"input-group-prepend pb-0 pl-2 pr-2\">\n          <input type=\"text\" className=\"form-control border search\" placeholder=\"Search a place...\" value={query} onChange={(e) => setQuery(e.target.value)} aria-label=\"search place\" aria-describedby=\"alcohol\" />\n        </div>\n        <div className=\"card-body\">\n          {loading && (<div className=\"col-12 text-center full-page-loader\"><img height='50' width='50' src='/images/logo.png' alt='LOADING' /><h2>LOADING...</h2></div>)}\n          <div className=\"table-responsive\">\n            <table className=\"table tablesorter \" id=\"\">\n              <thead className=\" text-primary\">\n                <tr>\n                  {header && (header.map((name: string, ii: number) => (\n                    <th key={ii} onClick={() => sorting(name)} >{name}&#8597;</th>)\n                  ))}\n                </tr>\n              </thead>\n              <tbody>\n                {filterData() &&\n                  (filterData().map((numList: any, i: number) => (\n                    <tr key={i} >\n                      {\n                        numList.map((num: any, j: number) =>\n                          <td key={j}>{num}</td>)\n                      }\n                    </tr>)\n                  ))\n                }\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}